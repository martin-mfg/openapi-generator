/* tslint:disable */
/* eslint-disable */
/**
 * dummy
 * dummy
 *
 * The version of the OpenAPI document: dummy
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


import {Api} from './index';
import {List} from 'immutable';
import {all, fork, put, takeLatest} from "redux-saga/effects";
import {apiCall, createSagaAction as originalCreateSagaAction, BaseEntitySupportPayloadApiAction, BasePayloadApiAction, NormalizedRecordEntities, normalizedEntities} from "../runtimeSagasAndRecords";
import {Action} from "redux-ts-simple";

import {
    Dummy200Response,
    Dummy200ResponseRecord,
    dummy200ResponseRecordUtils,
} from '../models/index';

const createSagaAction = <T>(type: string) => originalCreateSagaAction<T>(type, {namespace: "api_defaultApi"});

export const defaultApiSagaMap = new Map<string, () => Generator<any, any, any>>([
        ["dummy", dummySaga],
    ]
);

export function *defaultApiAllSagas() {
    yield all([...defaultApiSagaMap.values()].map(actionSaga => fork(actionSaga)));
}

//region dummy

export interface PayloadDummy extends BaseEntitySupportPayloadApiAction {
}


export const dummyRequest = createSagaAction<void>("dummyRequest");
export const dummySuccess = createSagaAction<Dummy200ResponseRecord>("dummySuccess");
export const dummySuccess_Entities = createSagaAction<NormalizedRecordEntities>("dummySuccess_Entities");
export const dummyFailure = createSagaAction<{error: any, requestPayload: PayloadDummy}>("dummyFailure");

export const dummy = createSagaAction<PayloadDummy>("dummy");

export function *dummySaga() {
    yield takeLatest(dummy, dummySagaImp);
}

export function *dummySagaImp(_action_: Action<PayloadDummy>) {
    const {markErrorsAsHandled, ..._payloadRest_} = _action_.payload;
    try {
        const {toEntities, toInlined = !toEntities, ...requestPayload} = _payloadRest_;

        yield put(dummyRequest());

        const response: Required<Dummy200Response> = yield apiCall(Api.defaultApi, Api.defaultApi.dummy,
        );

        let successReturnValue: any = undefined;
        if (toEntities) {
            successReturnValue = dummy200ResponseRecordUtils.fromApiArrayAsEntities([response]);
            yield put(normalizedEntities(successReturnValue));
            yield put(dummySuccess_Entities(successReturnValue));
        }
        if (toInlined) {
            successReturnValue = dummy200ResponseRecordUtils.fromApi(response);
            yield put(dummySuccess(successReturnValue));
        }

        return successReturnValue;
    } catch (error) {
        if (markErrorsAsHandled) {error.wasHandled = true; }
        yield put(dummyFailure({error, requestPayload: _action_.payload}));
        return error;
    }
}
//endregion
